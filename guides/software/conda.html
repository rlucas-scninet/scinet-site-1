<!DOCTYPE html>
<html lang="en-US">

<head>
  <meta name="viewport" content="width=device-width, initial-scale=1">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">

<title>User-Installed Software on Ceres with Conda | SCINet | USDA Scientific Computing Initiative</title>



<meta name="description" content="Using Conda">



<link rel="shortcut icon" type="image/ico"
  href="/scinet-site/assets/uswds/img/favicons/favicon.ico">

<link rel="icon" type="image/png"
  href="/scinet-site/assets/uswds/img/favicons/favicon.png">

<link rel="icon" type="image/png"
  sizes="192x192"
  href="/scinet-site/assets/uswds/img/favicons/favicon-192.png">

<link rel="apple-touch-icon-precomposed" type=""
  href="/scinet-site/assets/uswds/img/favicons/favicon-57.png">

<link rel="apple-touch-icon-precomposed" type=""
  sizes="72x72"
  href="/scinet-site/assets/uswds/img/favicons/favicon-72.png">

<link rel="apple-touch-icon-precomposed" type=""
  sizes="114x114"
  href="/scinet-site/assets/uswds/img/favicons/favicon-114.png">

<link rel="apple-touch-icon-precomposed" type=""
  sizes="144x144"
  href="/scinet-site/assets/uswds/img/favicons/favicon-144.png">



  



<link rel="stylesheet"
  href="/scinet-site/assets/css/style.css"
  media="screen">

  
  


<!-- Digital Analytics Program roll-up, see https://analytics.usa.gov for data -->
<script id="_fed_an_ua_tag" src="https://dap.digitalgov.gov/Universal-Federated-Analytics-Min.js?agency=USDA&subagency=ARS"></script>


  
  <script>0</script>
</head>

<body class="site-90%">

  <a class="usa-skipnav" href="#main-content">Skip to main content</a>

  



  <section class="usa-banner" aria-label="Official government website">
  <div class="usa-accordion">
    <header class="usa-banner__header">
      <div class="usa-banner__inner">
        <div class="grid-col-auto">
          <img class="usa-banner__header-flag" src="/scinet-site/assets/uswds/img/us_flag_small.png" alt="U.S. flag">
        </div>
        <div class="grid-col-fill tablet:grid-col-auto">
          <p class="usa-banner__header-text">This is a demo of the redesigned SCINet website. <a href="https://scinet.usda.gov/" >Click here to visit the current website.</a></p>
        </div>
      </div>
    </header>
  </div>
</section>



<div class="usa-overlay"></div>
<header class="usa-header usa-header--extended sci-heading" role="banner">

  <div class="usa-navbar">
      
<div class="usa-logo">
    
    <span class="agency-logo display-flex flex-align-center margin-right-1">
        
        <a href="/scinet-site/">
            <img class="usa-logo-img"
                src="/scinet-site/assets/img/site/usda-logo-color.svg"
                alt="USDA">
        </a>
        
    </span>
    
    <a class="agency-logo-text"
        href="/scinet-site/"
        aria-label="SCINet Scientific Computing">
        <div class="agency-identity">
            <div class="agency-name usa-logo__text">SCINet Scientific Computing</div>
            
            <div class="tagline">U.S. Department of Agriculture</div>
            
        </div>
    </a>
</div>
    <button type="button" class="usa-menu-btn">Menu</button>
  </div>

  <nav aria-label="Primary navigation" class="usa-nav border-bottom-2px">
    <div class="usa-nav__inner">
      <button type="button" class="usa-nav__close">
        <img src="/scinet-site/assets/uswds/img/usa-icons/close.svg" alt="close">
      </button>
      
      
      
      <ul class="usa-nav__primary usa-accordion">
        
        <li class="usa-nav__primary-item">
          
          <a class=" usa-nav__link  "
            href="/scinet-site/">
            <span>Home</span>
          </a>
          
        </li>
        
        <li class="usa-nav__primary-item">
          

          
          
          
          <button type="button" class="usa-accordion__button usa-nav__link" aria-expanded="false" aria-controls="nav-About">
            <span>About</span>
          </button>

          
          

<ul id="nav-About" class="usa-nav__submenu" hidden="">

  
      
      
          <li class="usa-nav__submenu-item">
            <a
              href="/scinet-site/about/signup"><span>Sign up for an account</span></a>
          </li>
          
      
      
          <li class="usa-nav__submenu-item">
            <a
              href="/scinet-site/about/compute"><span>Computer Systems</span></a>
          </li>
          
      
      
          <li class="usa-nav__submenu-item">
            <a
              href="/scinet-site/about/organization"><span>Organization</span></a>
          </li>
          
      
      
          <li class="usa-nav__submenu-item">
            <a
              href="/scinet-site/about/contact"><span>Contact</span></a>
          </li>
          
      
</ul>
          

          
        </li>
        
        <li class="usa-nav__primary-item">
          

          
          
          
          <button type="button" class="usa-accordion__button usa-nav__link" aria-expanded="false" aria-controls="nav-News">
            <span>News</span>
          </button>

          
          

<ul id="nav-News" class="usa-nav__submenu" hidden="">

  
      
      
          <li class="usa-nav__submenu-item">
            <a
              href="/scinet-site/news/downtime"><span>System Downtime</span></a>
          </li>
          
      
      
          <li class="usa-nav__submenu-item">
            <a
              href="/scinet-site/news/announcements"><span>Announcements</span></a>
          </li>
          
      
      
          <li class="usa-nav__submenu-item">
            <a
              href="/scinet-site/news/stories"><span>User Stories</span></a>
          </li>
          
      
      
          <li class="usa-nav__submenu-item">
            <a
              href="/scinet-site/news/newsletter"><span>Newsletter</span></a>
          </li>
          
      
      
          <li class="usa-nav__submenu-item">
            <a
              href="/scinet-site/news/scinet-x"><span>SCINet-X</span></a>
          </li>
          
      
</ul>
          

          
        </li>
        
        <li class="usa-nav__primary-item">
          

          
          
          
          <button type="button" class="usa-accordion__button usa-nav__link" aria-expanded="false" aria-controls="nav-User Guides">
            <span>User Guides</span>
          </button>

          
          

<ul id="nav-User Guides" class="usa-nav__submenu" hidden="">

  
      
      
          <li class="usa-nav__submenu-item">
            <a
              href="/scinet-site/guides/start"><span>Quick Start</span></a>
          </li>
          
      
      
          <li class="usa-nav__submenu-item">
            <a
              href="/scinet-site/guides"><span>All User Guides</span></a>
          </li>
          
      
</ul>
          

          
        </li>
        
        <li class="usa-nav__primary-item">
          

          
          
          
          <button type="button" class="usa-accordion__button usa-nav__link" aria-expanded="false" aria-controls="nav-Research">
            <span>Research</span>
          </button>

          
          <ul id="nav-Research" class="usa-nav__submenu usa-megamenu" hidden="">
    <div class="grid-row grid-gap-4">
        
        
        <li class="desktop:grid-col-3"></li>
        
        
            
            
            
                <li class="usa-nav__submenu-item desktop:grid-col-3 m-top-0">
                    

                    
                    
                    <div class="">
                        <a href="/scinet-site/research/working-groups">
                            Working Groups
                        </a>
                    </div>

                    <ul id="nav-ResearchWorking Groups" class="sublist">


                        

                            <li>
                                <a class="sublinks" href="/scinet-site/research/working-groups/ag100pest">
                                    Ag100Pest
                                </a>
                            </li>

                        

                            <li>
                                <a class="sublinks" href="/scinet-site/research/working-groups/arthropods">
                                    Arthropod Genomics
                                </a>
                            </li>

                        

                            <li>
                                <a class="sublinks" href="/scinet-site/research/working-groups/geospatial">
                                    Geospatial Research
                                </a>
                            </li>

                        

                            <li>
                                <a class="sublinks" href="/scinet-site/research/working-groups/microbiome">
                                    Microbiome
                                </a>
                            </li>

                        

                            <li>
                                <a class="sublinks" href="/scinet-site/research/working-groups/LTARphenology">
                                    LTAR Phenology
                                </a>
                            </li>

                        

                            <li>
                                <a class="sublinks" href="/scinet-site/research/working-groups/pollinator">
                                    Pollinator
                                </a>
                            </li>

                        
                    </ul>
                </li>
            
        
            
            
            
                <li class="usa-nav__submenu-item desktop:grid-col-3 m-top-0">
                    

                    
                    
                    <div class="">
                        <a href="/scinet-site/research/uses">
                            Use Cases
                        </a>
                    </div>

                    <ul id="nav-ResearchUse Cases" class="sublist">


                        

                            <li>
                                <a class="sublinks" href="/scinet-site/research/uses/genomics">
                                    Genomics
                                </a>
                            </li>

                        

                            <li>
                                <a class="sublinks" href="/scinet-site/research/uses/plant-breeding">
                                    Plant breeding
                                </a>
                            </li>

                        

                            <li>
                                <a class="sublinks" href="/scinet-site/research/uses/geospatial">
                                    Geospatial
                                </a>
                            </li>

                        

                            <li>
                                <a class="sublinks" href="/scinet-site/research/uses/hydrology">
                                    Hydrology
                                </a>
                            </li>

                        
                    </ul>
                </li>
            
        
    </div>


</ul>
          

          
        </li>
        
        <li class="usa-nav__primary-item">
          

          
          
          
          <button type="button" class="usa-accordion__button usa-nav__link" aria-expanded="false" aria-controls="nav-Training and Events">
            <span>Training and Events</span>
          </button>

          
          

<ul id="nav-Training and Events" class="usa-nav__submenu" hidden="">

  
      
      
          <li class="usa-nav__submenu-item">
            <a
              href="/scinet-site/training/learningpath"><span>Learning Pathway</span></a>
          </li>
          
      
      
          <li class="usa-nav__submenu-item">
            <a
              href="/scinet-site/training/free-online-training"><span>Free Online Training</span></a>
          </li>
          
      
      
          <li class="usa-nav__submenu-item">
            <a
              href="/scinet-site/training/events"><span>Upcoming Events</span></a>
          </li>
          
      
      
          <li class="usa-nav__submenu-item">
            <a
              href="/scinet-site/training/bioinformatics-workbook"><span>Bioinformatics Workbook</span></a>
          </li>
          
      
      
          <li class="usa-nav__submenu-item">
            <a
              href="/scinet-site/training/coursera"><span>Coursera</span></a>
          </li>
          
      
</ul>
          

          
        </li>
        
        <li class="usa-nav__primary-item">
          

          
          
          
          <button type="button" class="usa-accordion__button usa-nav__link" aria-expanded="false" aria-controls="nav-Support">
            <span>Support</span>
          </button>

          
          

<ul id="nav-Support" class="usa-nav__submenu" hidden="">

  
      
      
          <li class="usa-nav__submenu-item">
            <a
              href="/scinet-site/support/vrsc"><span>Virtual Research Support Core (VSRC)</span></a>
          </li>
          
      
      
          <li class="usa-nav__submenu-item">
            <a
              href="/scinet-site/support/faq"><span>FAQs</span></a>
          </li>
          
      
      
          <li class="usa-nav__submenu-item">
            <a
              href="https://forum.scinet.usda.gov"><span>USDA-ARS SCINet Forum</span></a>
          </li>
          
      
      
          <li class="usa-nav__submenu-item">
            <a
              href="/scinet-site/support/request-storage"><span>Request Project Storage</span></a>
          </li>
          
      
      
          <li class="usa-nav__submenu-item">
            <a
              href="/scinet-site/support/request-software"><span>Request Software</span></a>
          </li>
          
      
      
          <li class="usa-nav__submenu-item">
            <a
              href="/scinet-site/support/request-AWS"><span>Request AWS</span></a>
          </li>
          
      
      
          <li class="usa-nav__submenu-item">
            <a
              href="/scinet-site/support/ceres-job-script"><span>Ceres Job Script Generator</span></a>
          </li>
          
      
</ul>
          

          
        </li>
        
        <li class="usa-nav__primary-item">
          

          
          
          
          <button type="button" class="usa-accordion__button usa-nav__link" aria-expanded="false" aria-controls="nav-Opportunities">
            <span>Opportunities</span>
          </button>

          
          

<ul id="nav-Opportunities" class="usa-nav__submenu" hidden="">

  
      
      
          <li class="usa-nav__submenu-item">
            <a
              href="/scinet-site/opportunities/SAC"><span>SAC Membership</span></a>
          </li>
          
      
      
          <li class="usa-nav__submenu-item">
            <a
              href="/scinet-site/opportunities/request-workshop"><span>Request a Workshop</span></a>
          </li>
          
      
      
          <li class="usa-nav__submenu-item">
            <a
              href="/scinet-site/opportunities/fellowships"><span>Fellowships (PhD & MS)</span></a>
          </li>
          
      
      
          <li class="usa-nav__submenu-item">
            <a
              href="/scinet-site/opportunities/ai-innovation"><span>AI Innovation Fund</span></a>
          </li>
          
      
      
          <li class="usa-nav__submenu-item">
            <a
              href="/scinet-site/opportunities/scinet-aicoe-fellowships"><span>SCINet and AI-COE fellowship proposals</span></a>
          </li>
          
      
</ul>
          

          
        </li>
        


      </ul>
      

    </div>

    
    <div class="usa-nav__secondary">
      
      
      <form accept-charset="UTF-8" action="https://search.usa.gov/search" id="search_form" method="get"
        class="usa-search usa-search--small js-search-form">
        <input name="utf8" type="hidden" value="&#x2713;" />
        <input type="hidden" name="affiliate" id="affiliate" value="scinet-usda" />
        <div role="search">
          <label for="query" class="usa-sr-only">Enter search terms</label>
          <input autocomplete="off" class="usa-input usagov-search-autocomplete" id="query" name="query"
            type="search" />
          <button class="usa-button" type="submit" name="commit">
            <img src="/scinet-site/assets/uswds/img/usa-icons-bg/search--white.svg"
              class="usa-search__submit-icon" alt="Search" />
          </button>
        </div>
      </form>
      
    </div>


    </div>
    </div>
  </nav>

</header>



  

    


    
    


    

    

    
    
    




    
    


    <div class="grid-container main-side">


  


  

  







<div class="grid-row grid-gap flex-align-start">
    <div class="usa-layout-docs__sidenav desktop:grid-col-3 desktop:padding-y-10 usa-sticky-sidenav">
        <nav aria-label="Secondary navigation">
  <ul class="usa-sidenav">

    
    





<li class="usa-sidenav__item">
    <a href="/scinet-site/guides/start" 
        >
        Quick Start
    </a>
    
</li>
    
    





<li class="usa-sidenav__item">
    <a href="/scinet-site/guides" 
        >
        All User Guides
    </a>
    
</li>
    
    





<li class="usa-sidenav__item">
    <a href="/scinet-site/guides/software" 
         
        class=" guide-nav " 
        >
        SCINet Software
    </a>
    
</li>
    
    





<li class="usa-sidenav__item">
    <a href="/scinet-site/guides/software/conda" 
         
        class="usa-current " 
        >
        User-Installed Software on Ceres with Conda
    </a>
    
    
    <ul class="usa-sidenav__sublist">
        
            


<li>
  <a href="#setup" >Setup</a>
</li>





<li>
  <a href="#installing-software" >
    Installing Software
  </a>
  <ul class="usa-sidenav__sublist">
    


<li>
  <a href="#best-practices" >Best Practices</a>
</li>





<li>
  <a href="#example-1-installing-trinity-into-a-home-directory" >Example 1 - Installing Trinity into a home directory</a>
</li>





<li>
  <a href="#example-2-installing-tensorflow-into-a-project-directory" >Example 2 - Installing Tensorflow into a /project directory</a>
</li>



  </ul>
</li>





<li>
  <a href="#managing-environments" >Managing Environments</a>
</li>



        
        
    </ul>
    
    
</li>
    
    





<li class="usa-sidenav__item">
    <a href="/scinet-site/guides/software/modules" 
        >
        Environment Modules
    </a>
    
</li>
    
    





<li class="usa-sidenav__item">
    <a href="/scinet-site/guides/software/singularity" 
        >
        Singularity Containers
    </a>
    
</li>
    

  </ul>
</nav>
    </div>
    
    <div class="usa-layout-docs__main desktop:grid-col-9">
        <nav class="usa-breadcrumb usa-breadcrumb--wrap" aria-label="Breadcrumbs">
  <ol class="usa-breadcrumb__list">
    
    


<li class="usa-breadcrumb__list-item">
  <a href="/scinet-site/" class="usa-breadcrumb__link">
    <span>SCINet Home</span>
  </a>
</li>

    
      


<li class="usa-breadcrumb__list-item">
  <a href="/scinet-site/guides" class="usa-breadcrumb__link">
    <span>All User Guides</span>
  </a>
</li>
    

    
      
      
        
          
          


<li class="usa-breadcrumb__list-item">
  <a href="/scinet-site/guides/software" class="usa-breadcrumb__link">
    <span>SCINet Software</span>
  </a>
</li>
        
      
    


    <li class="usa-breadcrumb__list-item usa-current" aria-current="page">
      <span>User-Installed Software on Ceres with Conda</span>
    </li>
  </ol>
</nav>
        <main class="usa-layout-docs usa-layout-docs__main usa-prose" id="main-content">

          
  
      <h1 class="top-header">User-Installed Software on Ceres with Conda</h1>
  
  

  

  

  <p><a href="https://conda.io/">Conda</a> is a software package manager for data science that allows unprivileged (non-administrative) Linux or MacOS users to search, fetch, install, upgrade, use, and manage supported open-source software packages and programming languages/libraries/environments (primarily Python and R, but also others such as Perl, Java, and Julia) in a directory they have write access to. Conda allows SCINet users to create reproducible scientific software environments (including outside of Ceres) without requiring the submission of a SCINet software request form for new software, or contacting the VRSC to upgrade existing software.
<!--excerpt--></p>

<p>Many open-source scientific software packages are available:</p>
<ul>
  <li><a href="https://anaconda.org/search">Browse/search</a> all conda packages</li>
</ul>

<p>The <a href="http://bioconda.github.io/">Bioconda</a> channel contains thousands of software packages that are useful for bioinformatics.</p>
<ul>
  <li><a href="https://bioconda.github.io/conda-package_index.html">Browse/search</a> available Bioconda software packages</li>
</ul>

<h2 id="setup">Setup</h2>

<p>Before using conda or conda-installed software on Ceres, the <em>miniconda</em> environment module (which contains the conda software environment) must be loaded. To load the latest miniconda module available on Ceres:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[user.name@ceres ~]$ module load miniconda
</code></pre></div></div>

<p>You can see all available versions of miniconda on Ceres with:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[user.name@ceres ~]$ module spider miniconda
</code></pre></div></div>

<p><em>(Optional one-time setup for bioconda users)</em> If you plan on installing software primarily from the bioconda channel, before using conda for the first time on Ceres, you may wish to configure conda <a href="http://bioconda.github.io/user/install.html#set-up-channels">per the bioconda documentation</a> to search for software packages in the conda-forge, bioconda, and defaults channels (in that order):</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[user.name@ceres ~]$ conda config --add channels defaults
[user.name@ceres ~]$ conda config --add channels bioconda
[user.name@ceres ~]$ conda config --add channels conda-forge
</code></pre></div></div>

<p>Otherwise, the conda-forge and then bioconda channels must be specified every time software is installed via <code class="language-plaintext highlighter-rouge">conda install</code> or <code class="language-plaintext highlighter-rouge">conda create</code>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>conda install -c conda-forge -c bioconda SOFTWARE_PACKAGE1 SOFTWARE_PACKAGE2...
</code></pre></div></div>

<h2 id="installing-software">Installing Software</h2>

<p>Software can be installed into separate environments (directories) that are managed separately. At least one environment must be created before installing software using the Ceres miniconda environment module.</p>

<p>On Ceres, suitable locations for conda environments housing conda packages include:</p>

<ol>
  <li>Home directory (default; subdirectory of $HOME/.conda/envs/)</li>
</ol>

<p>NOTE: some Conda packages (with dependencies) can take gigabytes of storage space. Use the Ceres command  <code class="language-plaintext highlighter-rouge">my_quota</code>  to check the available space in your home directory.</p>

<ol>
  <li>A user-specified directory within one’s project directory, e.g.,
/project/&lt;MY_PROJECT&gt;/&lt;MY_ENVIRONMENT_DIRECTORY&gt;</li>
</ol>

<p>This environment is then usable by others in the project.</p>

<h3 id="best-practices">Best Practices</h3>

<ul>
  <li><strong>Use an interactive session on a compute node to install software with conda to avoid slowing down the login node for everyone, e.g,</strong>
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[user.name@ceres ~]$ salloc
[user.name@ceres14-compute-60 ~]$ module load miniconda
[user.name@ceres14-compute-60 ~]$ source activate my_env
(my_env) [user.name@ceres14-compute-60 ~]$ conda install &lt;package_name&gt;
...
</code></pre></div>    </div>
  </li>
</ul>

<h3 id="example-1-installing-trinity-into-a-home-directory">Example 1: Installing Trinity into a home directory</h3>

<p>Load the latest miniconda module if you haven’t already and create an environment called “trinityenv”:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[user.name@ceres ~]$ module load miniconda
[user.name@ceres ~]$ conda create --name trinityenv
</code></pre></div></div>

<p>Note that the  <code class="language-plaintext highlighter-rouge">conda create</code> command used above without the –prefix option will create the environment in your home directory ($HOME/.conda/envs/).</p>

<p>To activate the environment (and update environment variables such as PATH that are required to use software installed into this environment):</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[user.name@ceres ~]$ source activate trinityenv
(trinityenv) [user.name@ceres ~]$
</code></pre></div></div>

<div class="usa-alert usa-alert-error" role="alert">
  <div class="usa-alert-body">
    <h3 class="usa-alert-heading">Do not execute <tt>conda init</tt></h3>
    <div class="usa-alert-title">
      In conda &ge; 4.6, if you run <code>conda activate</code>, you will be prompted to run <code>conda init</code> to modify your shell interactive startup script (e.g, ~/.bashrc):
      <pre>
[user.name@ceres ~]$ conda activate

CommandNotFoundError: Your shell has not been properly configured to use 'conda activate'.
To initialize your shell, run

$ conda init &lt;SHELL_NAME&gt;
      </pre>
      This will have the undesirable side effect of modifying your PATH to include that particular version of miniconda every time you log in (even without loading the miniconda environment variable).
      <p />
      If you accidentally run <code>conda init</code>, edit your shell intereractive startup file (<code>$HOME/.bashrc</code> for the bash shell) and remove all lines between
      <br />
      <code>&gt;&gt;&gt; conda initialize &gt;&gt;&gt;</code>
      <br />
      and
      <br />
      <code>&lt;&lt;&lt; conda initialize &lt;&lt;&lt;</code>
      <br /><br />

      <code>conda deactivate</code> may still be used safely.
      <p />
      We will continue to monitor the <a href="https://github.com/conda/conda/issues/7980" target="_blank">GitHub issue</a> that describes the problem and other workarounds.
    </div>
  </div>
</div>

<div class="usa-alert-full-width usa-alert-full-width-info" role="region" aria-labelledby="alert-heading">
  <div class="usa-alert usa-alert-info" aria-live="assertive" role="alert">
    <div class="usa-alert-body">
      <h3 class="usa-alert-heading" id="alert-heading"><code>conda activate</code> after <code>source activate</code></h3>
      <div class="usa-alert-title">
        <p>
          If <code>conda activate</code> is needed for some advanced use cases like <a href="https://docs.conda.io/projects/conda/en/latest/user-guide/tasks/manage-environments.html#nested-activation" target="_blank">nested ("stacked") environments</a>, it can be used after <code>source activate</code>:
          <pre>
[user.name@ceres ~]$ ml miniconda
[user.name@ceres ~]$ source activate
(base) [user.name@ceres ~]$ conda activate samtools
(samtools) [user.name@ceres ~]$
          </pre>
        </p> 
      </div>
    </div>
  </div>
</div>

<p>Now that you are inside the trinityenv environment, install software into this environment with:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>(trinityenv) [user.name@ceres ~]$ conda install &lt;package_name&gt; &lt;package_name&gt; &lt;package_name&gt;
</code></pre></div></div>

<p>For example, install the <a href="https://github.com/trinityrnaseq/trinityrnaseq/wiki">Trinity</a> transcriptome assembler and <a href="https://pachterlab.github.io/kallisto/">Kallisto</a> RNA-Seq quantification application (an optional dependency that is not included with the default Trinity 2.8.4 installation). Note this step may take a few minutes:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>(trinityenv) [user.name@ceres ~]$ conda install trinity kallisto
...
Proceed ([y]/n)? y
...
</code></pre></div></div>

<p>Afterwards, the Trinity and Kallisto executables are in your PATH:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>(trinityenv) [user.name@ceres ~]$ type Trinity
Trinity is hashed (/home/user.name/.conda/envs/trinityenv/bin/Trinity)

(trinityenv) [user.name@ceres ~]$ Trinity --version
Trinity version: Trinity-v2.8.4-currently using the latest production release of Trinity.

(trinityenv) [user.name@ceres ~]$ type kallisto
kallisto is hashed (/home/scinet.username/.conda/envs/trinityenv/bin/kallisto)

(trinityenv) [user.name@ceres ~]$ kallisto version
kallisto, version 0.44.
</code></pre></div></div>

<p>To exit the environment:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>(trinityenv) [user.name@ceres ~]$ conda deactivate
[user.name@ceres ~]$ 
</code></pre></div></div>

<p>After deactivating the trinityenv environment, Trinity and kallisto are no longer in your PATH:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[user.name@ceres ~]$ type Trinity
-bash: type: Trinity: not found
</code></pre></div></div>

<h3 id="example-2-installing-tensorflow-into-a-project-directory">Example 2: Installing Tensorflow into a /project directory</h3>

<p>Load the latest miniconda module if you haven’t already and create an environment in your /project directory by using the option  <code class="language-plaintext highlighter-rouge">--prefix</code>:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[user.name@ceres ~]$ module load miniconda
[user.name@ceres ~]$ conda create --prefix /project/my_proj/tensorflow
...
[user.name@ceres ~]$ source activate /project/my_proj/tensorflow
(/project/my_proj/tensorflow) [user.name@ceres ~]$ conda install tensorflow
... 
</code></pre></div></div>

<p>Note: conda first downloads packages into a package cache directory. By default, the package cache is in your home directory  ($HOME/.conda/pkgs). If installing a large amount of software that may cause home directory quota to be exceeded, you can configure another directory to be the package cache by adding a pkgs_dirs list to the $HOME/.condarc file (YAML); e.g.:</p>

<p><code class="language-plaintext highlighter-rouge">pkgs_dirs:</code></p>

<p><code class="language-plaintext highlighter-rouge">- /project/my_proj/my_pkg_cache</code></p>

<h2 id="managing-environments">Managing Environments</h2>

<p>See the official <a href="https://conda.io/projects/conda/en/latest/user-guide/tasks/manage-environments.html">Conda documentation for managing environments</a> for a complete list of commands.</p>

<p>To list environments that have been created in your home directory:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[user.name@ceres ~]$ conda env list
## conda environments:
#
trinityenv               /home/user.name/.conda/envs/trinityenv
root                  *  /software/7/apps/miniconda/4.7.12
</code></pre></div></div>

<p>To list software packages in an environment:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[user.name@ceres ~]$ conda list --name trinityenv
## packages in environment at /home/user.name/.conda/envs/trinityenv:
#
...
</code></pre></div></div>
<p>OR</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[user.name@ceres ~]$ conda list --prefix /project/my_proj/tensorflow
## packages in environment at /project/my_proj/tensorflow:
...
</code></pre></div></div>

<p><strong>Tip: For reproducibility, a list of all packages/versions in an environment can be <a href="https://conda.io/projects/conda/en/latest/user-guide/tasks/manage-environments.html?highlight=shared#sharing-an-environment">exported to an environment file</a>, which can be used to <a href="https://conda.io/projects/conda/en/latest/user-guide/tasks/manage-environments.html?highlight=shared#creating-an-environment-from-an-environment-yml-file">recreate the environment</a> (e.g., by another user, or on another system) or archived with analysis results. This makes it easy for you or anyone else to re-run your analysis on any system and is also a record of the exact software environment you used for your analysis.</strong></p>

<p>To remove an environment in your home directory:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[user.name@ceres ~]$ conda env remove --name trinityenv
</code></pre></div></div>
<p>To remove an environment in your /project directory:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>rm -rf /project/my_proj/tensorflow
</code></pre></div></div>

<p>To remove packages not used by any environment, as well as tarballs downloaded into the conda package cache ($HOME/.conda/pkgs):</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>conda clean --all
</code></pre></div></div>


  

  <br>

  


        <br>
    </main>
  </div>
</div>
</div>


    <br>

    

  

  


    
<footer class="usa-footer usa-footer--big">

  
  <div class="grid-container">
    <p>Last updated: November 01, 2022 at 12:45 PM</p>
  </div>
  

  
  <div class="grid-container usa-footer__return-to-top">
    <a href="#">Return to top</a>
  </div>
  

  
  

  <div class="usa-footer__primary-section">
    <div class="grid-container">
          <nav class="usa-footer__nav" aria-label="Footer navigation">
            <div class="grid-row grid-gap-4">
              
              <div class="mobile-lg:grid-col-6 desktop:grid-col-4">
                
                <section class="
                    usa-footer__primary-content
                    usa-footer__primary-content--collapsible
                  ">
                  <h4 class="usa-footer__primary-link">RESOURCES</h4>

                  <ul class="usa-list usa-list--unstyled">
                    
                    <li class="usa-footer__secondary-link">
                      <a
                        href="mailto:scinet_vrsc@usda.gov">
                        Feedback
                      </a>
                    </li>
                    
                    <li class="usa-footer__secondary-link">
                      <a
                        href="/scinet-site/about/signup">
                        Sign Up
                      </a>
                    </li>
                    
                    <li class="usa-footer__secondary-link">
                      <a
                        href="/scinet-site/about/contact">
                        Contact
                      </a>
                    </li>
                    
                    <li class="usa-footer__secondary-link">
                      <a
                        href="/scinet-site/opportunities/postdocs">
                        Fellowships
                      </a>
                    </li>
                    
                  </ul>
                  
              </div>
              
              <div class="mobile-lg:grid-col-6 desktop:grid-col-4">
                
                <section class="
                    usa-footer__primary-content
                    usa-footer__primary-content--collapsible
                  ">
                  <h4 class="usa-footer__primary-link">USDA</h4>

                  <ul class="usa-list usa-list--unstyled">
                    
                    <li class="usa-footer__secondary-link">
                      <a
                        href="https://ask.usda.gov/">
                        AskUSDA
                      </a>
                    </li>
                    
                    <li class="usa-footer__secondary-link">
                      <a
                        href="https://usda.gov/">
                        USDA.gov
                      </a>
                    </li>
                    
                    <li class="usa-footer__secondary-link">
                      <a
                        href="https://www.usa.gov">
                        USA.gov
                      </a>
                    </li>
                    
                    <li class="usa-footer__secondary-link">
                      <a
                        href="https://www.whitehouse.gov">
                        WhiteHouse.gov
                      </a>
                    </li>
                    
                    <li class="usa-footer__secondary-link">
                      <a
                        href="https://usda.gov/plain-writing">
                        Plain Writing
                      </a>
                    </li>
                    
                  </ul>
                  
              </div>
              
              <div class="mobile-lg:grid-col-6 desktop:grid-col-4">
                
                <section class="
                    usa-footer__primary-content
                    usa-footer__primary-content--collapsible
                  ">
                  <h4 class="usa-footer__primary-link">LEGAL</h4>

                  <ul class="usa-list usa-list--unstyled">
                    
                    <li class="usa-footer__secondary-link">
                      <a
                        href="https://usda.gov/accessibility-statement">
                        Accessibility Statement
                      </a>
                    </li>
                    
                    <li class="usa-footer__secondary-link">
                      <a
                        href="https://usda.gov/non-discrimination-statement">
                        Non-Discrimination Statement
                      </a>
                    </li>
                    
                    <li class="usa-footer__secondary-link">
                      <a
                        href="https://usda.gov/privacy-policy">
                        Privacy Policy
                      </a>
                    </li>
                    
                    <li class="usa-footer__secondary-link">
                      <a
                        href="https://www.dm.usda.gov/foia/">
                        FOIA
                      </a>
                    </li>
                    
                    <li class="usa-footer__secondary-link">
                      <a
                        href="https://www.ocio.usda.gov/policy-directives-records-forms/information-quality-activities">
                        Information Quality
                      </a>
                    </li>
                    
                  </ul>
                  
              </div>
              
            </div>
          </nav>
    </div>
  </div>

  
  <div class="usa-footer__secondary-section">
    <div class="grid-container sci-heading">
      <div class="grid-row grid-gap">
        <div class="usa-footer__logo grid-row mobile-lg:grid-col-8 tablet:grid-gap-2">
          

          
          <div class="">
            
<div class="usa-logo">
    
    <span class="agency-logo display-flex flex-align-center margin-right-1">
        
        <a href="/scinet-site/">
            <img class="usa-logo-img"
                src="/scinet-site/assets/img/site/usda-logo-color.svg"
                alt="USDA">
        </a>
        
    </span>
    
    <a class="agency-logo-text"
        href="/scinet-site/"
        aria-label="SCINet Scientific Computing">
        <div class="agency-identity">
            <div class="agency-name usa-logo__text">SCINet Scientific Computing</div>
            
            <div class="tagline">U.S. Department of Agriculture</div>
            
        </div>
    </a>
</div>
          </div>
          
        </div>

        
        <div class="margin-y-auto mobile-lg:grid-col-4">
          
          <div class="usa-footer__social-links grid-row grid-gap-1">
            <div class="grid-col-auto">
              
              <a class="usa-social-link" href="https://twitter.com/USDA_ARS"
              ><img
                class="usa-social-link__icon"
                src="/scinet-site/assets/uswds/img/usa-icons/twitter.svg"
                alt="Twitter"
            /></a>
              
              <a class="usa-social-link" href="mailto:scinet_vrsc@usda.gov"
              ><img
                class="usa-social-link__icon"
                src="/scinet-site/assets/uswds/img/usa-icons/mail.svg"
                alt="Contact VRSC"
            /></a>
              
            </div>
          </div>
          
        </div>
        
      </div>
    </div>
  </div>
  

</footer>



  <!-- dynamically determine scripts needed for this config -->







  
    
      <script src="/scinet-site/assets/uswds/js/uswds.min.js" async></script>
    

  
    
      <script src="/scinet-site/assets/js/vendor/anchor.min.js"></script>
    

  
    
      <script src="/scinet-site/assets/js/main.js"></script>
    

  
    
      <script src="/scinet-site/assets/js/external.js"></script>
    

  
    




<script type="text/javascript">
//<![CDATA[
      var usasearch_config = { siteHandle:"scinet-usda" };

      var script = document.createElement("script");
      script.type = "text/javascript";
      script.src = "https://search.usa.gov/javascripts/remote.loader.js";
      document.getElementsByTagName("head")[0].appendChild(script);

//]]>
</script>






</body>

</html>